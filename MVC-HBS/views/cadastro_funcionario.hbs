<h1 class="display-4">Cadastro de funcionário</h1>

<form class="form-group" method="POST" action="/funcionarios/inserirfunc">

    <input type="text" id="ID" name="ID" value="{{data.ID}}">
    <div class="form-row">
        <div class="form-group col-md-12">
            <label for="Nome">Nome completo</label>
            <input type="text" class="form-control" placeholder="Nome completo" id="NOME" name="NOME" value="{{data.NOME}}" required>
        </div>
        </div>

        <div class="form-row">
        <div class="form-group col-md-6">
            <label for="cpf">CPF</label>
            <input type="text" class="form-control" placeholder="XXX.XXX.XXX-XX" id="CPF" name="CPF"
            oninput="formataCPF()" value="{{data.CPF}}" required>
        </div>
        <div class="form-group col-md-6">
            <label for="DATA_NSC">Data de Nascimento</label>
            <input type="date" class="form-control" id="DATA_NSC" name="DATA_NSC" value="{{data.DATA_NSC}}" required>
        </div>
        </div>

        <div class="form-row">
        <div class="form-group col-md-6">
            <label for="TELEFONE">Telefone</label>
            <input type="text" class="form-control" placeholder="(XX) X XXXX-XXXX" id="TELEFONE" name="TELEFONE"
            maxlength="11"
            oninput="formataTELEFONE()" value="{{data.TELEFONE}}" required>
        </div>
        <div class="form-group col-md-6">
            <label for="SALARIO">Salário</label>
            <input type="text" class="form-control" placeholder="R$ 0,00" id="SALARIO" name="SALARIO"
            oninput="formataSALARIO()" value="{{data.SALARIO}}" required>
        </div>
        
        <div class="form-row">
        <div class="form-group">
            <div class="form-check">
                <input type="checkbox" class="form-check-input" id="STATUS" name="STATUS"
                {{#if data.STATUS}}
                checked
                    {{/if}}>
                <label for="STATUS" class="form-check-label">
                    Situação
                </label>
            </div>
        </div>

    </div>

    <button type="submit" class="btn btn-primary btn-lg btn-block">
        Salvar
    </button>

    <a class="btn btn-info btn-lg btn-block" href="/funcionarios/">
    Voltar
    </a>

</form>

<script>
    function formataCPF() {
        let inputCPF = document.getElementById("CPF").value;
        document.getElementById("CPF").value = inputCPF
        .replace(/[^\d]/g, "")
        .replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
}
    function formataTELEFONE() {
        let inputTELEFONE = document.getElementById("TELEFONE").value;
    document.getElementById("TELEFONE").value = inputTELEFONE
    .replace(/[^\d]/g, "")
    .replace(/(\d{2})(\d{1})(\d{4})(\d{4})/, "($1) $2 $3-$4");
    }
        function formataSALARIO() {
        let inputSALARIO = document.getElementById("SALARIO").value;
        document.getElementById("SALARIO").value = inputSALARIO.replace(/[^0-9.,\d]/g, "");
    }
</script>